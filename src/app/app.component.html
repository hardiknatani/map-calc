<mat-sidenav-container [hasBackdrop]="false" autoSize>
  <mat-sidenav #sidenav opened mode="over" [disableClose]="true" class="p-0  w-fit transparent">
    <div class="absolute  top-2 -right-12 z-9999 "  >
      <button mat-mini-fab class="bg-white" (click)="sidenav.toggle()">
        <mat-icon *ngIf="sidenav.opened">layers_clear</mat-icon>
        <mat-icon *ngIf="!sidenav.opened">layers</mat-icon>
      </button>
    </div>

  <mat-tab-group animationDuration="200ms" mat-stretch-tabs    >
    <mat-tab label="Layers"> 
  
        <div class="layers-sidebar  px-2" id="layers-sidebar">
          <div class="inner-Extendent">
  
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title class="font-semibold" >
                  Layers
               </mat-panel-title>
              </mat-expansion-panel-header>
              <div *ngFor="let layer of borderAndAreasLayers">
                <div class="matlistitem">
                  <div>
                    {{layer.name}}
                  </div>
                  <div class="flex flex-row justify-between items-center" >
                  <button matRipple class=" flex flex-row justify-between rounded-full">
                    <mat-icon >settings</mat-icon>
                  </button>
                  <button matRipple class=" flex flex-row justify-between rounded-full" (click)="handleLayerVisibility(layer,true)" >
                    <mat-icon *ngIf="layer.active">visibility</mat-icon>
                    <mat-icon *ngIf="!layer.active">visibility_off</mat-icon>
                  </button>
                  <button matRipple class=" flex flex-row justify-between rounded-full" (click)="addContour(layer.url)" >
                    <mat-icon>table_view</mat-icon>
                  </button>
                  </div>
                </div>
              </div>
            </mat-expansion-panel>
<div class="py-2 px-1" >
<div *ngIf="showControls==true" class="flex flex-col gap-2" >
  <mat-form-field>
    <mat-label> Buffer Radius(In Metres)</mat-label>
    <input matInput type="text" [formControl]="bufferRadius">
  </mat-form-field>
  <button mat-raised-button [disabled]="!bufferRadius.value" (click)="addDemLayer()">
    Add Dem Layer
  </button>
  <div class=" flex flex-row justify-between items-center gap-1 px2 py-1">
    <mat-form-field  >
      <mat-select-trigger>
         <img *ngIf="selectedColorramp.value!='Default'" class="field-image" src="../../../assets/img/colormaps/{{selectedColorramp.value}}.png" >
      </mat-select-trigger>
        <mat-select matInput appearance="fill"  [formControl]="selectedColorramp" (selectionChange)="onChangeColorRamp()">                 
      <mat-option *ngFor="let ramp of colormaps" value="{{ramp.id}}">
      <img *ngIf="ramp.source" height="10" src="{{ramp.source}}" >
      <span *ngIf="!ramp.source"> {{ramp.id}} </span>
      </mat-option>            
    </mat-select> 
  </mat-form-field>
  </div>
  <!-- <button mat-raised-button (click)="showReliefLayer()">
    Show Relief
  </button> -->

</div>

                       


</div>
          </div>

        </div>

    </mat-tab>
    <mat-tab label="Settings">  </mat-tab>
  
  </mat-tab-group>



  </mat-sidenav>

  <mat-sidenav-content>
    <div *ngIf="!sidenav.opened" class="absolute top-2 left-2 z-50 ">
      <button mat-mini-fab class="bg-white" (click)="sidenav.toggle()">
        <mat-icon *ngIf="!sidenav.opened">layers</mat-icon>
      </button>
    </div>
    <div class="map-wrap">
      <div #map id="map">

      </div>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>